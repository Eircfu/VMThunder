#/usr/bin/env python

import sys
sys.path.append("..")

from libfcg.fcg import FCG
from vmthunder.computenode import ComputeNode
from vmthunder.getconf import GetConf
from vmthunder.service import WSGIService
from vmthunder.openstack.common.service import ProcessLauncher


def service():
    launcher = ProcessLauncher()
    server = WSGIService('vmthunder', port=5920)
    launcher.launch_service(server)

def main():
    gc = GetConf('../etc/vmthunder/vmthunder.conf')
    name = gc.get_fcg_name()
    ssds = gc.get_fcg_ssds()
    blocksize = gc.get_fcg_blocksize()
    pattern = gc.get_fcg_pattern()
    #print name, ssds, blocksize, pattern
    
    fcg = FCG(name)
    fcg.create_group(ssds, blocksize, pattern)

if __name__ == '__main__':
    #main()
    service()   
