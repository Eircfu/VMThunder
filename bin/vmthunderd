#!/usr/bin/env python

import sys
from libfcg.fcg import FCG
sys.path.append("..")

from vmthunder.computenode import ComputeNode
from vmthunder.getconf import GetConf
from vmthunder.service import APIService
from vmthunder import service


def serve():
    launcher = service.process_launcher()
    server = APIService()
    #service.start()
    launcher.launch_service(server)
    launcher.wait()

def main():
    gc = GetConf('../etc/vmthunder/vmthunder.conf')
    name = gc.get_fcg_name()
    ssds = gc.get_fcg_ssds()
    blocksize = gc.get_fcg_blocksize()
    pattern = gc.get_fcg_pattern()
    #print name, ssds, blocksize, pattern
    
    fcg = FCG(name)
    fcg.create_group(ssds, blocksize, pattern)

if __name__ == '__main__':
    #main()
    serve()   
